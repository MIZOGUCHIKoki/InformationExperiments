\chapter{アセンブリ言語・高級言語の実装の違い}\label{cha2}
\section{実験の目的}
先に述べたように，アセンブリ言語は機械語を1対1に記した記法である．それに対して高級言語（高水準言語）は，人間の言語・概念に近づけて設計されてたプログラム言語である．\cite{高水準言語}\par
本実験の目的は，アセンブリ言語や機械語などの低級言語は{\ttfamily Java}などの高級言語と比べて，実装に関して大きく異なる点があるかどうかを明らかにすること，すなわち，コードの複雑さやコード量がどうなるかを明らかにすることである．
\section{実験の方法}
実装に関して大きく異なる点を明らかにするため，低級言語と高級言語の一般的な実装手順を書き出し比較をする．低級言語はアセンブリ言語，高級言語は{\ttfamily Java}を利用する．\par
さらに，コードの複雑さやコード量がどうなるかを明らかにするため，実際に2つの言語で書いた同一のアルゴリズムに対して，行数や条件分岐，ループの回数を比べる．\par
{\ttfamily Java}におけるループ回数は{\ttfamily for}文の個数，比較回数は{\ttfamily if}文の個数とし，アセンブリ言語における比較回数は{\ttfamily cmp}の個数，ループ回数は一定条件下で上の行のラベルにジャンプする回数とする．評価値は
\[評価値=行数+比較回数+ループ回数\]と定義し，評価値とコードの複雑さは比例するものとする．
一般的にコードの行数が短いことと，複雑であるか否かは必要十分ではない．ただ，アセンブリ言語は1行につき1命令で記述する必要があるため，行数の比較で十分であると判断した．
\section{実験の結果}
\ref{src:sort.s}，\ref{src:testsort.s}は，アセンブリ言語で記述したプログラム，\ref{src:sort.java}は{\ttfamily Java}で記述したプログラムである．いずれも，入力データを受け取り選択ソートアルゴリズムで整列してその整列結果を1行ずつ出力するプログラムであり，入力と出力は一致している．それぞれの行数と比較回数を\ref{tbl:行数の比較}に示す．\par
\begin{table}[H]
    \centering
    \caption{行数とループ・比較回数}
    \label{tbl:行数の比較}
    \begin{tabular}{p{4cm}p{3cm}wc{2cm}wc{2cm}wc{2cm}wc{2cm}}
        \multicolumn{1}{c}{記述言語} & \multicolumn{1}{c}{ファイル名} & \multicolumn{1}{c}{行数} & \multicolumn{1}{c}{比較回数} & \multicolumn{1}{c}{ループ回数} & 評価値                 \\
        \hline
        \multirow{2}{*}{アセンブリ言語} & {\ttfamily sort.s}        & 44                     & 3                        & 2                         & \multirow{2}{*}{77} \\
                                 & {\testsort}               & 26                     & 1                        & 1                                               \\
        \hline
        {\ttfamily Java}         & {\ttfamily sort.java}     & 19                     & 1                        & 2                         & 22                  \\
        \hline
    \end{tabular}
\end{table}
\section{考察}
実験の結果より，両言語の評価値を比べるとアセンブリ言語の評価値の方が{\ttfamily Java}に比べて3.5倍であることが確認できる．1番目立った違いは行数であろう．アセンブリ言語で記述したものに比べて{\ttfamily Java}で記述したアルゴリズムは約\(1/3\)とより簡潔に記述できることが分かる．\par
その原因として，{\ttfamily Java}のループに使われる{\ttfamily for}文は，比較とジャンプ，ループ変数の定義と処理を1行で行うことが可能であることに対して，アセンブリ言語では比較・ジャンプ・ループ変数の処理の命令を1つずつ記述する必要のあることが挙げられる．\par
今回の実験で，低級言語であるアセンブリ言語の方が，高級言語である{\ttfamily Java}よりも複雑でゴードの量も多くなることが分かった．ただし，この実験では独自の指標でコードの複雑さを測っているため，一般的な複雑の指標である，サイクロマティック複雑度（循環的複雑度）で計測できていない．